# **************************************************************
# This file is part of IDZ80
# It contais labels for subroutine, functions and vars of
# BDOS
# Source: "MSX Top Secret 2", book of Edison Pires
# **************************************************************


[CALLS]
0000 WBOOT        # Warm Boot
0004 DRIVE        # Default Drive (DATA)
0005 MSXDOS       # BDOS
000C RDSLT        # Read a byte from any slot
0014 WRSLT        # Write a byte to any slot
001C CALSLT       # Call a routine from any slot
0024 ENASLT       # Enable a page in any slot
0030 CALLF        # Call a routine from any slot with parameters
0038 INTPRT       # Call the interrupt handler
003B CHSLTS       # System routine to change secondary slots
005C FCBDOS       # FCB used for BDOS (DATA)
0080 DTA          # Initial address of DTA (DATA)
                  # command line params
F37D DISKBASIC    # BDOS
[/CALLS]



[IOMAP]
98 VDP_DATA
99 VDP_STAT_CTRL
9A VDP_REGPAL
9B VDP_REG
A0 PSG_ADDRESS
A1 PSG_WR
A2 PSG_RD
A8 PPI_SLTSLC
A9 PPI_RD_KEYB
AA PPI_CLK_KEYB
AB PPI_COMMAND
[/IOMAP]


[FUNCTIONS]
# IO
01 CONIN
02 CONOUT
03 AUXIN
04 AUXOUT
05 LSTOUT
06 DIRIO
07 DIRIN
08 INNOE
09 STROUT
0A BUFIN
0B CONST
# DEFINITIONS
00 TERM0
0C CPMVER
0D DSKRST
0E SELDSK
18 LOGIN
19 CURDRV
1A SETDTA
1B ALLOC
2A GDATE
2B SDATE
2C GTIME
2D STIME
2E VERIFY
# ABS READ/WRITE DSK
2F RDABS
30 WRABS
# FCB FILE ACCESS
0F FOPEN
10 FCLOSE
11 SFIRST
12 SNEXT
13 FDEL
14 RDSEQ
15 WRSEQ
16 FMAKE
17 FREN
21 RDRND
22 WRRND
23 FSIZE
24 SETRND
26 WRBLK
27 RDBLK
28 WRZER
# Additional functions for MSXDOS2
31 DPARM
40 FFIRST
41 FNEXT
42 FNEW
43 OPEN
44 CREATE
45 CLOSE
46 ENSURE
47 DUP
48 READ
49 WRITE
4A SEEK
4B IOCTL
4C HTEST
4D DELETE
4E RENAME
4F MOVE
50 ATTR
51 FTIME
52 HDELET
53 HRENAM
54 HMOVE
55 HATTR
56 HFTIME
57 GETDTA
58 GETVFY
59 GETCD
5A CHDIR
5B PARSE
5C PFILE
5D CHKCHR
5E WPATH
5F FLUSH
60 FORK
61 JOIN
62 TERM
63 DEFAB
64 DEFER
65 ERROR
66 EXPLN
67 FORMAT
68 RAMD
69 BUFFER
6A ASSIGN
6B GENV
6C SENV
6D FENV
6E DSKCHK
6F DOSVER
70 REDIR
[/FUNCTIONS]

[SYSVAR]
F1C1 MOTORCNT
F1C2 MOTORCNT1
F1C3 MOTORCNT2
F1C4 DRVACTIVE
F1C5 ADRIVETRACK
F1C6 BDRIVETRACK
F1C7 LOGICDRVACTIVE
F1C8 NUMPHYSDRV
F1C9 PRINTSTR   #CALL
F1E2 ABORT      #CALL
F1E8 CALLHL     #CALL
F1F4 JMPFNAME   #JUMP
F1F7 PRNNAME
F1FB LSTNAME
F1FF NULNAME
F203 AUXNAME
F207 CONNAME
F20B ANYNAME
F216 DEVNUM
F221 FCBDATEFILE
F223 FCBHOURFILE
F22B JANUARY
F22C FEBRUARY
F22D MARCH
F22E APRIL
F22F MAY
F230 JUNE
F231 JULY
F232 AUGUST
F233 SEPTEMBER
F234 OCTOBER
F235 NOVEMBER
F236 DECEMBER
F237 BDOSFUNC10
F23B PRINTERFLAG
F23C DTAADDR
F23F DISKSECTOR
F243 DPBADDR
F245 RELDIRSECT
F246 SECTDIRDRV
F247 DEFAULTDRV
F248 DAY
F249 MONTH
F24A YEAR1980
F24C HOUR
F24E DAYWEEK
F24F JMPINDSKDRV    # JUMP
F252 PREBDOS        # HOOK
F255 REPAIRFNAME    # HOOK
F258 FINDDIR        # HOOK
F25B INCDIR         # HOOK
F25E NEXTSECDIR     # HOOK
F261 REPAIRFNAME1   # HOOK
F264 HKOPEN         # HOOK
#F267 HOOKUNKNOWN
F26A HKGETDPB       # HOOK
F26D HKCLOSE        # HOOK
F270 HKRDABS        # HOOK
F273 HKDSKERROR     # HOOK
F276 HKWRABS		# HOOK
F279 HKWRABS1       # HOOK
F27C HKMULTIPLY     # HOOK
F27F HKDIVIDE       # HOOK
F282 HK4989H		# HOOK
F285 HK49B1H        # HOOK
F288 HK4A36H        # HOOK
F28B HK4A46H        # HOOK
F28E HK4B56H        # HOOK
F291 HK4BE2H
F294 HK4C22H
F297 HK4C97H
F29A HK4D65H
F29D HK4D8CH
F2A0 HK4E48H
F2A3 HK4EDBH
F2A6 HK4F12H
F2A9 HK4F9EH
F2AC HKBUFIN
F2AF HKCONOUT
F2B2 HK5496H
F2B5 HKFEBRCHK
F2B8 NUMACTDIR
F2B9 LSTDIRENTRYNAME
F2C4 LSTDIRENTRYATT
F2CF LSTDIRENTRYHOUR
F2D1 LSTDIRENTRYDATE
F2D3 LSTDIRENTRYCLUSTER
F2D5 LSTDIRENTRYFILESIZE
F2DC BDOS_FLAG
F2E1 ACTDRIVEABSIO
F2FE DRIVECNTDOWN
F304 SPREG
F306 MSXDOSDEFDRIVE
F307 DEREG_FCB
F309 DPB_RESERVED
F30B SECTACTDIR
F30D VERIFYFLAG
F30E DATAFORMAT
F30F KANJI_AREA
F323 DISCERRORHANDLER
F325 CTRLCHANDLER
F327 HKAUXINP        # HOOK
F32C HKAUXOUT        # HOOK
F331 HKBDOSFUNC      # HOOK
F336 CTRLSTOPSTATUS
F337 CTRLANDSTOPSTATUS
F338 INTERNALRTC
F339 INTERNALCLOCKROUTINE
F340 MSXDOSRSTATUS
F341 RAMPAGE0SLOT
F342 RAMPAGE1SLOT
F343 RAMPAGE2SLOT
F344 RAMPAGE3SLOT
F345 FREEBUFFERS
F346 MSXDOSINDISK
F347 NUMLOGICDRIVES
F348 KERNELIDSLOT
F349 FATPOINTERLAST
F34B CLEARADDR
F34D FATPOINTERDEF
F34F DTAPOINTER
F351 BUFSECTPOINTER
F353 ACTFILEPOINTER
F355 DPB_A
F357 DPB_B
F359 DPB_C
F35B DPB_D
F35D DPB_E
F35F DPB_F
F361 DPB_G
F363 DPB_H
F365 JMPPRIMSLOT
F368 JMPCHANGEKERNEL
F36B JMPCHANGERAM
F36E JMPLDIRPG1
F371 JMPAUXINP
F374 JMPAUXOUT
F377 JMPBLOAD
F37A JMPBSAVE
F37D BDOSCOMMHANDLER


[/SYSVAR]
